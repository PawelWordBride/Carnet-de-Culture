<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Automobile - Carnet de Culture</title>

  <!-- Si tu as un CSS global, garde-le et enl√®ve le <style> -->
  <!-- <link rel="stylesheet" href="style.css"> -->

  <style>
    /* === Base === */
    body{
      font-family: Arial, sans-serif;
      margin: 0;
      background:#f7f9fc;
      color:#333;
    }

    header{
      background:#27374D;
      color:#fff;
      padding: 18px 14px;
      text-align:center;
    }

    header h1{
      margin: 0 0 8px;
      font-size: 1.6rem;
    }

    header a{
      color:#DDE6ED;
      text-decoration:none;
      font-weight:700;
    }

    header a:hover{
      text-decoration: underline;
    }

    main{
      max-width: 1000px;
      margin: 0 auto;
      padding: 24px 16px 60px;
    }

    /* === Intro === */
    .intro{
      background:#DDE6ED;
      border: 1px solid rgba(39,55,77,0.12);
      border-radius: 18px;
      padding: 18px;
      box-shadow: 0 4px 14px rgba(0,0,0,0.08);
      margin-bottom: 18px;
    }

    .intro h2{
      margin: 0 0 8px;
      color:#27374D;
      font-size: 1.2rem;
    }

    .intro p{
      margin: 0;
      color:#27374D;
      opacity: 0.9;
      line-height: 1.4;
    }

    /* === Grille de sous-cat√©gories === */
    .grid{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 14px;
      margin-top: 16px;
    }

    .card{
      background:#ffffff;
      border-radius: 18px;
      padding: 16px;
      border: 1px solid rgba(39,55,77,0.10);
      box-shadow: 0 4px 14px rgba(0,0,0,0.06);
      text-decoration:none;
      color:#27374D;
      display:flex;
      align-items:center;
      gap: 12px;
      transition: transform .2s ease, box-shadow .2s ease;
      cursor: pointer;
    }

    .card:hover{
      transform: translateY(-3px);
      box-shadow: 0 10px 22px rgba(0,0,0,0.10);
    }

    .icon{
      width: 46px;
      height: 46px;
      border-radius: 14px;
      background:#526D82;
      display:flex;
      align-items:center;
      justify-content:center;
      color:#DDE6ED;
      font-size: 1.3rem;
      flex: 0 0 auto;
    }

    .card h3{
      margin: 0 0 6px;
      font-size: 1.05rem;
    }

    .card p{
      margin: 0;
      font-size: 0.92rem;
      opacity: 0.85;
      line-height: 1.3;
    }

    .arrow{
      margin-left:auto;
      font-weight:900;
      opacity: 0.6;
      font-size: 1.2rem;
    }

    /* === Zone contenu dynamique === */
    #page-content{
      display:none;
      margin-top: 18px;
      background:#fff;
      border-radius: 18px;
      padding: 18px;
      border: 1px solid rgba(39,55,77,0.10);
      box-shadow: 0 6px 18px rgba(0,0,0,0.08);
    }

    #page-content h2, #page-content h3{
      color:#27374D;
    }

    .hint{
      margin-top: 14px;
      font-size: 0.92rem;
      opacity: 0.85;
      color:#27374D;
    }

    /* Optionnel : lien actif */
    .card.is-active{
      outline: 3px solid rgba(82,109,130,0.35);
    }
  </style>
</head>

<body>

  <header>
    <h1>üöó Automobile</h1>
    <nav>
      <a href="index.html">‚¨Ö Retour au sommaire</a>
    </nav>
  </header>

  <main>

    <section class="intro">
      <h2>Bienvenue dans la section Automobile</h2>
      <p>
        Ici tu peux organiser ton carnet : histoire, innovation, design, comp√©tition,
        m√©canique, √©cologie, et culture automobile.
      </p>
      <p class="hint">Clique sur une sous-cat√©gorie pour afficher son contenu.</p>
    </section>

    <!-- Sous-cat√©gories (les href pointent vers des fragments HTML) -->
    <section class="grid">
      <a class="card load-page" href="pages/auto/histoire_et_present.html">
        <div class="icon">üï∞Ô∏è</div>
        <div>
          <h3>Histoire et Pr√©sent</h3>
          <p>Origines, √©volutions, rep√®res, marques, p√©riodes.</p>
        </div>
        <span class="arrow">‚Üí</span>
      </a>

      <a class="card load-page" href="pages/auto/technologie_innovation.html">
        <div class="icon">‚öôÔ∏è</div>
        <div>
          <h3>Technologie & Innovation</h3>
          <p>Moteurs, EV, hybridation, ADAS, mat√©riaux, industrie.</p>
        </div>
        <span class="arrow">‚Üí</span>
      </a>

      <a class="card load-page" href="pages/auto/design_automobile.html">
        <div class="icon">üé®</div>
        <div>
          <h3>Design automobile</h3>
          <p>Styles, lignes, ergonomie, identit√© visuelle, tendances.</p>
        </div>
        <span class="arrow">‚Üí</span>
      </a>

      <a class="card load-page" href="pages/auto/competitions_sport_auto.html">
        <div class="icon">üèÅ</div>
        <div>
          <h3>Comp√©titions</h3>
          <p>F1, endurance, rallye, cat√©gories, l√©gendes, techniques.</p>
        </div>
        <span class="arrow">‚Üí</span>
      </a>

      <a class="card load-page" href="pages/auto/voitures_mythiques.html">
        <div class="icon">‚ú®</div>
        <div>
          <h3>Voitures mythiques</h3>
          <p>Mod√®les iconiques, fiches, histoire, anecdotes.</p>
        </div>
        <span class="arrow">‚Üí</span>
      </a>

      <a class="card load-page" href="pages/auto/ecologie_mobilite.html">
        <div class="icon">üåø</div>
        <div>
          <h3>√âcologie & Mobilit√©</h3>
          <p>Impact, transition, infrastructures, usages, futur.</p>
        </div>
        <span class="arrow">‚Üí</span>
      </a>

      <a class="card load-page" href="pages/auto/ingenierie_mecanique.html">
        <div class="icon">üîß</div>
        <div>
          <h3>Ing√©nierie & M√©canique</h3>
          <p>Architecture v√©hicule, organes, syst√®mes, principes.</p>
        </div>
        <span class="arrow">‚Üí</span>
      </a>

      <a class="card load-page" href="pages/auto/culture_automobile.html">
        <div class="icon">üé¨</div>
        <div>
          <h3>Culture automobile</h3>
          <p>Cin√©ma, jeux, communaut√©s, lifestyle, histoire populaire.</p>
        </div>
        <span class="arrow">‚Üí</span>
      </a>
    </section>

    <!-- Zone o√π les pages s‚Äôaffichent -->
    <section id="page-content"></section>

  </main>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const cards = document.querySelectorAll(".load-page");
      const content = document.getElementById("page-content");
      let currentUrl = null;

      const clearActive = () => cards.forEach(c => c.classList.remove("is-active"));

      cards.forEach(card => {
        card.addEventListener("click", async (e) => {
          e.preventDefault();
          const url = card.getAttribute("href");

          // Re-clic sur la m√™me carte -> on ferme
          if (currentUrl === url) {
            content.innerHTML = "";
            content.style.display = "none";
            currentUrl = null;
            clearActive();
            return;
          }

          try {
            const res = await fetch(url);
            if (!res.ok) throw new Error("HTTP " + res.status);
            const html = await res.text();

            content.innerHTML = html;
            content.style.display = "block";
            currentUrl = url;

            clearActive();
            card.classList.add("is-active");

            // petit scroll doux vers le contenu
            content.scrollIntoView({ behavior: "smooth", block: "start" });

          } catch (err) {
            content.innerHTML = "<p>Erreur lors du chargement de la page.</p>";
            content.style.display = "block";
            currentUrl = null;
            clearActive();
          }
        });
      });
    });
  </script>

</body>
</html>
